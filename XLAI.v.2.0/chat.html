<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>XL AI – Coach</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body class="xlai-theme">
    <div class="app-frame">
      <!-- Top bar -->
      <header class="top-bar chat-top-bar">
        <div class="top-bar-left">
          <button
            type="button"
            class="icon-button"
            onclick="window.location.href='index.html';"
            aria-label="Back to conversations"
          >
            ←
          </button>
          <div class="chat-header-text">
            <div id="chat-contact-name" class="chat-contact-name">XL AI Coach</div>
            <div class="chat-subtitle">Private · 24h delete</div>
          </div>
        </div>

        <div class="top-bar-right">
          <button type="button" class="pill pill-outline">COACH MODE</button>
        </div>
      </header>

      <!-- Chat shell -->
      <main class="chat-main">
        <section class="panel panel-chat">
          <!-- System message / hint -->
          <div class="chat-hint-bubble" id="chat-hint">
            Hey, I’m your XL AI coach. Type what you want to say to this person,
            then pick a tone for a calmer, more empathetic version.
          </div>

          <!-- Message history area -->
          <div id="chat-box" class="chat-box"></div>

          <!-- Composer -->
          <section class="input-shell">
  <header class="input-header">
    <div class="field-title">Your message</div>
    <div class="field-subtitle">
      Type what you really want to say...
    </div>
  </header>

  <!-- Emotion check-in row -->
  <div class="emotion-row">
    <div class="emotion-label">How are you feeling right now?</div>
    <div class="emotion-pills">
      <button class="emotion-pill" data-emotion="calm">Calm</button>
      <button class="emotion-pill" data-emotion="anxious">Anxious</button>
      <button class="emotion-pill" data-emotion="frustrated">Frustrated</button>
      <button class="emotion-pill" data-emotion="sad">Sad</button>
      <button class="emotion-pill" data-emotion="hopeful">Hopeful</button>
    </div>
  </div>

  <textarea
    id="message-input"
    class="message-input"
    rows="3"
    placeholder="Type what you REALLY want to say..."
  ></textarea>

  <div class="input-actions">
    <button id="deliver-button" class="primary-button">
      Deliver
    </button>
  </div>
</section>
          </section>
        </section>
      </main>
    </div>

    <!-- Predictive Pause modal -->
    <div id="pause-modal" class="pause-modal hidden">
      <div class="pause-modal-backdrop"></div>
      <div class="pause-modal-card">
        <div class="pause-modal-title">Suggested pause</div>
        <p class="pause-modal-copy">
          XL AI noticed this message feels
          <span id="pause-emotion">intense</span>. Your words carry weight —
          take a short pause before you send.
        </p>

        <div class="pause-modal-meter-row">
          <span class="pause-meter-label">Intensity</span>
          <div class="pause-meter-track">
            <div id="pause-meter-fill" class="pause-meter-fill"></div>
          </div>
          <span id="pause-intensity" class="pause-intensity-value">0%</span>
        </div>

        <div class="pause-timer-row">
          <span>Breath timer</span>
          <span id="pause-timer">15s</span>
        </div>

        <div class="pause-modal-actions">
          <button id="pause-cancel" class="ghost-button">Cancel</button>
          <button id="pause-rephrase" class="secondary-button">
            Rephrase with XL AI
          </button>
          <button id="pause-continue" class="primary-button" disabled>
            Send anyway
          </button>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="firebase-init.js"></script>
<script src="contacts.js"></script>    <!-- on index.html only -->
<script src="chat.js"></script>        <!-- on chat.html only -->
  </body>
</html>